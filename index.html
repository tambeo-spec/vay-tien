<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch·ªçn kho·∫£n vay</title>
<style>
body{font-family:Arial;background:#f2f3f7;margin:0;padding:15px}
.card{background:#ff4fa3;color:white;padding:20px;border-radius:18px;text-align:center}
.amount{font-size:26px;font-weight:bold;margin:10px 0}
select,input[type=range]{width:100%;margin:8px 0;padding:8px;border-radius:8px;border:none}
.box{background:white;margin-top:12px;padding:12px;border-radius:12px}
button{width:100%;padding:12px;margin-top:10px;border:none;border-radius:10px;background:#ff4fa3;color:white;font-size:16px}
</style>
</head>
<body>

<div class="card">
  <div>Ch·ªçn s·ªë ti·ªÅn vay</div>
  <div class="amount" id="moneyDisplay">500,000 VND</div>
  <input type="range" id="moneySlider" min="0" max="8" step="1" value="0">
</div>

<div class="box">
  <label>Ch·ªçn k·ª≥ h·∫°n</label>
  <select id="kyhan">
    <option value="7">7 ng√†y</option>
    <option value="14">14 ng√†y</option>
    <option value="30">30 ng√†y</option>
  </select>

  <div>üí∏ L√£i: <span id="lai">0</span></div>
  <div>üßæ Ph√≠ d·ªãch v·ª•: <span id="phi">0</span></div>
  <div>üí∞ Nh·∫≠n v·ªÅ: <span id="nhan">0</span></div>
  <div>üìÖ Ng√†y tr·∫£: <span id="ngaytra"></span></div>

  <button onclick="tiepTheo()">Ti·∫øp t·ª•c vay</button>
</div>

<script>
const amounts=[500000,1000000,1500000,2000000,4000000,8000000,12000000,30000000,50000000];
const slider=document.getElementById("moneySlider");
const display=document.getElementById("moneyDisplay");

function format(x){return x.toLocaleString('vi-VN')+" VND"}

function tinh(){
 let money=amounts[slider.value];
 let days=document.getElementById("kyhan").value;

 let laiRate = days==7?0.1:days==14?0.15:0.2;
 let phiRate = 0.05;

 let lai=money*laiRate;
 let phi=money*phiRate;
 let nhan=money-lai-phi;

 let d=new Date();
 d.setDate(d.getDate()+Number(days));

 document.getElementById("lai").innerText=format(lai);
 document.getElementById("phi").innerText=format(phi);
 document.getElementById("nhan").innerText=format(nhan);
 document.getElementById("ngaytra").innerText=d.toLocaleDateString();
}

slider.oninput=function(){
 display.innerText=format(amounts[this.value]);
 tinh();
}
document.getElementById("kyhan").onchange=tinh;
tinh();

function tiepTheo(){
 localStorage.setItem("loanAmount", amounts[slider.value]);
 localStorage.setItem("kyHan", document.getElementById("kyhan").value);
 window.location.href="step1.html";
}
</script>

</body>
</html>
